<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Arity</title>
<link href="css/style.css" rel="stylesheet" type="text/css">
</head>
<body>
	<div id="content">
		<h1>Arity</h1>
		<div class="search-bar" style="position: absolute; top: 50px;">
			<strong> Table of content </strong>
			<ul>
				<li><strong><a href="index.html">Arity</a></strong>
					<ul>
						<li><a href="#createTable">createTable</a></li>
						<li><a href="#truncateTable">truncateTable</a></li>
						<li><a href="#removeTable">removeTable</a></li>
						<li><a href="#fetch">fetch</a></li>
						<li><a href="#native">native</a></li>
						<li><a href="#objectCount">truncateTable</a></li>
						<li><a href="#createTable">createTable</a></li>
						<li><a href="#truncateTable">truncateTable</a></li>
						<li><a href="#createTable">createTable</a></li>
						<li><a href="#truncateTable">truncateTable</a></li>
					</ul></li>
			</ul>
		</div>
		<a name="___top"></a>
		<div class="pod">

			<h1>Arity</h1>

			<ul id="index">
				<li><a href="#NAME">NAME</a></li>
				<li><a href="#DESCRIPTION">DESCRIPTION</a></li>
				<li><a href="#CONFIG">CONFIG</a>
					<ul>
						<li><a href="#QUERY_DEBUG">QUERY_DEBUG</a></li>
						<li><a href="#ARITY_IDENTITY">ARITY_IDENTITY</a></li>
						<li><a href="#ARITY_NULL">ARITY_NULL</a></li>
						<li><a href="#ARITY_EMPTY">ARITY_EMPTY</a></li>
					</ul></li>
				<li><a href="#TYPES">DATATYPE IDENTIFIERS</a>
					<ul>
						<li><a href="#ARITY_INT">ARITY_INT</a></li>
						<li><a href="#ARITY_SERIAL">ARITY_SERIAL</a></li>
						<li><a href="#ARITY_SMALLINT">ARITY_SMALLINT</a></li>
						<li><a href="#ARITY_DECIMAL">ARITY_DECIMAL</a></li>
						<li><a href="#ARITY_VARCHAR">ARITY_VARCHAR</a></li>
						<li><a href="#ARITY_TEXT">ARITY_TEXT</a></li>
						<li><a href="#ARITY_DATE">ARITY_DATE</a></li>
						<li><a href="#ARITY_BINARY">ARITY_BINARY</a></li>
					</ul></li>
				<li><a href="#CONSTRAINTS">CONSTRAINTS</a>
					<ul>
						<li><a href="#ARITY_PRIMARY">ARITY_PRIMARY</a></li>
						<li><a href="#ARITY_UNIQUE">ARITY_UNIQUE</a></li>
						<li><a href="#ARITY_COMPOSITE">ARITY_COMPOSITE</a></li>
						<li><a href="#ARITY_REQUIRED">ARITY_REQUIRED</a></li>
						<li><a href="#ARITY_NOTREQUIRED">ARITY_NOTREQUIRED</a></li>

					</ul></li>
				<li><a href="#MULTIPLICITY">MULTIPLICITY</a>
					<ul>
						<li><a href="#ARITY_PARENT">ARITY_PARENT</a></li>
						<li><a href="#ARITY_CHILD">ARITY_CHILD</a></li>
						<li><a href="#ARITY_11">ARITY_11</a></li>
						<li><a href="#ARITY_1M">ARITY_1M</a></li>
					</ul></li>

				<li><a href="#CORE">CORE</a>
					<ul>
						<li><a href="#Arity">Arity</a>
							<ul>
								<li><a href="#entity">entity</a></li>
								<li><a href="#native">native</a></li>
							</ul></li>
						<li><a href="#Base">Base</a></li>
						<li><a href="#Db">Db</a></li>
						<li><a href="#Entity">Entity</a>
							<ul>
								<li><a href="#createTable">createTable</a></li>
								<li><a href="#removeTable">removeTable</a></li>
								<li><a href="#truncateTable">truncateTable</a></li>
								<li><a href="#fetch">fetch</a></li>
								<li><a href="#native">native</a></li>
								<li><a href="#objectCount">truncateTable</a></li>
								<li><a href="#createTable">createTable</a></li>
								<li><a href="#truncateTable">truncateTable</a></li>
								<li><a href="#createTable">createTable</a></li>
								<li><a href="#truncateTable">truncateTable</a></li>
							</ul></li>
						<li><a href="#Field">Field</a></li>
						<li><a href="#Reference">Reference</a></li>
						<li><a href="#TWWype">Type</a></li>
					</ul></li>
				<li><a href="#TUTORIALS">TUTORIALS</a>
					<ul>
						<li><a href="tutorial1.php">Tutorial 1</a></li>
						<li><a href="tutorial2.php">Tutorial 2</a></li>
						<li><a href="tutorial3.php">Tutorial 3</a></li>
						<li><a href="tutorial4.php">Tutorial 4</a></li>
						<li><a href="tutorial5.php">Tutorial 5</a></li>
					</ul></li>

			</ul>
			<h1 id="NAME">
				<a href="#___top">NAME</a>
			</h1>
			<p>
				Arity Object Relational Mapper for PHP.<br />Arity provides are
				simple easy to use methods to create,add and retrieve data objects.
			</p>
			<h1 id="DESCRIPTION">
				<a href="#___top">DESCRIPTION</a>
			</h1>
			<p>Arity provides are simple easy to use Object Relation Mapping
				library. Provide set of method to easy manage and access database
				table in form of data objects.</p>
			<h1>
				<a id="CONFIG" href="#___top">CONFIG</a>
			</h1>
			<h2>
				<a href="#___top" id="QUERY_DEBUG">QUERY_DEBUG</a>
			</h2>
			<p>
				Enables query debug for Arity<a href="#Type">Type</a> is created.
			</p>
			<pre>
				define('QUERY_DEBUG',1);
			</pre>

			<h2>
				<a href="#___top" id="ARITY_IDENTITY">ARITY_IDENTITY</a>
			</h2>
			<p>Located in the conf.inc.php.Sets the identity field for the
				object. This identity field is used for object to provider mapping.
				In most case identity field is the primary key of the provider
				mapped table.</p>
			<pre>
			define("ARITY_IDENTITY","id"); //Change to your choice of table identity field
			</pre>
			<h2>
				<a href="#___top" id="ARITY_NULL">ARITY_NULL</a>
			</h2>
			<p>
				PHP equivalent NULL representation for NULL values either set when <a
					href="#Type">Type</a> is created.
			</p>
			<h2>
				<a href="#___top" id="ARITY_EMPTY">ARITY_EMPTY</a>
			</h2>
			<p>
				PHP equivalent empty string representation for empty values either
				set when <a href="#Type">Type</a> is created.
			</p>
			<h1 id="TYPES">
				<a href="#___top">TYPE DATA IDENTIFIERS</a>
			</h1>
			<p>The types that are available to construct object that can be
				mapped to database tables.These types explain the normal php object
				with a database object. To have these types you need to define a
				meta static variable for the php object which will encapsulate the
				objects to relational mapping.</p>
			<p>The mapping of these types depends on the provider which
				translate them to the corresponding data storage.</p>

			<pre>
			class TestSimple {
				public static $meta;
				public $id;
				public $name;
				public function  __construct()  {
			
					self::$meta->id= new Type('id',ARITY_SERIAL,11,ARITY_EMPTY,ARITY_REQUIRED,ARITY_PRIMARY);
					 
					self::$meta->name= new Type('name',ARITY_VARCHAR,50);
				}
			}			
			</pre>

			<h2>
				<a href="#___top" id="ARITY_INT">ARITY_INT</a>
			</h2>
			<p>Type identifier to map object attributes with integer
				datatype.</p>
			<pre>
				self::$meta->myType= new Type('myType',ARITY_INT,10);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_SERIAL">ARITY_SERIAL</a>
			</h2>
			<p>Type identifier to map object attributes with integer datatype
				with auto increment in table. The actual allocation of size depends
				on the database.</p>
			<p>A primary key is usually associated with serial type.</p>
			<pre>
				self::$meta->myType= new Type('myType',ARITY_SERIAL,10);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_SMALLINT">ARITY_SMALLINT</a>
			</h2>
			<p>Type identifier to map object attributes with small integer
				datatype.</p>
			<pre>
				self::$meta->myType= new Type('mytype',ARITY_SMALLINT,10);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_DECIMAL">ARITY_DECIMAL</a>
			</h2>
			<p>
				Type identifier to map object attributes with decimal datatype. The
				implementation may vary to corresponding provider. The size input
				parameter for <a href="#Type">Type</a> Object works as precision for
				decimal type.
			</p>
			<pre>
				self::$meta->myType= new Type('mytype',ARITY_DECIMAL,10);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_VARCHAR">ARITY_VARCHAR</a>
			</h2>
			<p>Type identifier to map object attributes with variable
				character datatype.</p>
			<pre>
				self::$meta->myType= new Type('mytype',ARITY_VARCHAR,50);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_TEXT">ARITY_TEXT</a>
			</h2>
			<p>Type identifier to map object attributes with character
				variable unlimited length datatype.</p>
			<pre>
				self::$meta->myType= new Type('mytype',ARITY_TEXT);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_DATE">ARITY_DATE</a>
			</h2>
			<p>Type identifier to map object attributes with date datatype.</p>
			<pre>
				self::$meta->myType= new Type('mytype',ARITY_DATE);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_BINARY">ARITY_BINARY</a>
			</h2>
			<p>Type identifier to map object attributes with binary datatype.
				Intended for storing images,videos or documents in binary format.</p>
			<pre>
				self::$meta->myType= new Type('mytype',ARITY_BINARY);
			</pre>
			<h1>
				<a id="CONSTRAINTS" href="#___top">CONSTRAINTS</a>
			</h1>
			<p>List of constraints both row and column level are available
				for developer. Constraints are used to control object properties to
				map with correct provider implementation.</p>
			<h2>
				<a href="#___top" id="ARITY_PRIMARY">ARITY_PRIMARY</a>
			</h2>
			<p>Create a primary key constraint on an object property.The
				implementation of primary key constraint depends on provider.</p>
			<pre>
					self::$meta->id= new Type('id',ARITY_SERIAL,11,ARITY_EMPTY,ARITY_REQUIRED,ARITY_PRIMARY);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_UNIQUE">ARITY_UNIQUE</a>
			</h2>
			<p>Create a unique key constraint on an object property.The
				implementation of unique key constraint depends on provider.</p>
			<pre>
					  self::$meta->user_id= new Type('user_id',ARITY_INT,11,ARITY_EMPTY,ARITY_NULL,ARITY_UNIQUE);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_PRIMARY">ARITY_PRIMARY</a>
			</h2>
			<p>Create a primary key constraint on an object property.The
				implementation of primary key constraint depends on provider.</p>
			<pre>
					self::$meta->id= new Type('id',ARITY_SERIAL,11,ARITY_EMPTY,ARITY_REQUIRED,ARITY_PRIMARY);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_COMPOSITE">ARITY_COMPOSITE</a>
			</h2>
			<p>Add the current attribute to composite key constraint of an
				object.</p>
			<pre>
					self::$meta->id= new Type('id',ARITY_SERIAL,11,ARITY_EMPTY,ARITY_REQUIRED,ARITY_PRIMARY,ARITY_COMPOSITE);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_REQUIRED">ARITY_REQUIRED</a>
			</h2>
			<p>Create a required object property.The implementation of which
				depends on provider.</p>
			<pre>
					self::$meta->id= new Type('id',ARITY_SERIAL,11,ARITY_EMPTY,ARITY_REQUIRED,ARITY_PRIMARY);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_NOTREQUIRED">ARITY_NOTREQUIRED</a>
			</h2>
			<p>Create a not required object property.The implementation of
				which depends on provider.</p>
			<pre>
					self::$meta->id= new Type('id',ARITY_SERIAL,11,ARITY_EMPTY,ARITY_NOTREQUIRED,ARITY_PRIMARY);
			</pre>
			<h1>
				<a id="MULTIPLICITY" href="#___top">MULTIPLICITY</a>
			</h1>
			<p>List of core classes available for Arity</p>
			<h2>
				<a href="#___top" id="ARITY_PARENT">ARITY_PARENT</a>
			</h2>
			<p>Define a parent entity object of a relationship.</p>
			<pre>
					self::$meta->profile=new Reference('id','testprofile','user_id',ARITY_11,ARITY_PARENT);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_CHILD">ARITY_CHILD</a>
			</h2>
			<p>Define a child entity object of a relationship.On for child
				objects foreign key relationships are mapped by provider from child
				to parent.</p>
			<pre>
					self::$meta->profile=new Reference('id','testprofile','user_id',ARITY_11,ARITY_CHILD);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_11">ARITY_11</a>
			</h2>
			<p>Define one to one relationship.</p>
			<pre>
					self::$meta->profile=new Reference('id','testprofile','user_id',ARITY_11,ARITY_PARENT);
			</pre>
			<h2>
				<a href="#___top" id="ARITY_1M">ARITY_1M</a>
			</h2>
			<p>Define one to many relationship.</p>
			<pre>
					self::$meta->profile=new Reference('id','testprofile','user_id',ARITY_1M,ARITY_CHILD);
			</pre>
			<h1>
				<a id="CORE" href="#___top">CORE</a>
			</h1>
			<p>List of core classes available for Arity</p>
			<pre>
			
			//Sample Model Class
			
			class TestSimple {
				public static $meta;
				public $id;
				public $name;
				public function  __construct()  {
			
					self::$meta->id= new Type('id',ARITY_SERIAL,11,ARITY_EMPTY,ARITY_REQUIRED,ARITY_PRIMARY);
					 
					self::$meta->name= new Type('name',ARITY_VARCHAR,50);
				}
			}		
			</pre>

			<h2>
				<a id="Arity" href="#___top">Arity</a>

			</h2>
			<p>Class with static methods to instantiate the entity object.</p>
			<h3>
				<a id="entity" href="#___top">entity</a>
			</h3>
			<p>Creates an entity object for model object for a specified
				provider.</p>
			<pre>public static function entity($object,$type=DEFAULT_DB)</pre>
			<p>
				$object is the instantiated Model Object.<br /> $type
				Provider(Postgres/Mysql). Default to the provider selected in config
			</p>
			<pre>
			#Initialize a test object
			
			$testObj=new TestSimple();
			
			$testObj->name="test";
			
			#Add Object to Arity persistent manager
			
			$dbObj=Arity::entity($testObj);
			</pre>
			<h3>
				<a id="native" href="#___top">native</a>
			</h3>
			<p>Creates an native object for a specified provider. Native
				method provide sql support.</p>
			<pre> public static function native($type)</pre>
			<p>
				<br /> $type Provider(Postgres/Mysql). Default to the provider
				selected in config
			</p>
			<pre>
			$dbObj=Arity::native();
			</pre>
			<h2>
				<a id="Base" href="#___top">Base</a>
			</h2>
			<p>Abstract Base class for model. Includes the static $meta
				variable to describe the child class provide mapping structure.</p>

			<h2>
				<a id="Db" href="#___top">Db</a>
			</h2>
			<p>Abstract class mandatory for the provider to implement.
				Includes abstract methods which define how arity communicates with
				the provider. object.</p>
			<h2>
				<a id="Entity" href="#___top">Entity</a>
			</h2>
			<p>Entity class contains all the bindings required for orm to
				work. Provides set of methods to access the provider independent
				data objects.</p>
			<h3>
				<a id="createTable" href="#___top">createTable</a>
			</h3>
			<p>Create the table in the database corresponding to the test
				object.</p>
			<pre>
				
			#Initialize a test object
			
			$testObj=new TestSimple();
			
			$testObj->name="test";
			
			#Add Object to Arity persistent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->createTable();
			</pre>
			<h3>
				<a id="removeTable" href="#___top">removeTable</a>
			</h3>
			<p>Remove the table in the database corresponding to the test
				object.</p>
			<pre>
			$testObj=new TestSimple();
		
			#Add Object to Arity persistent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->removeTable();
			</pre>
			<h3>
				<a id="truncateTable" href="#___top">truncateTable</a>
			</h3>
			<p>Remove all the records from the corresponding provider table.</p>
			<pre>
			$testObj=new TestSimple();
			
			#Add Object to Arity persistent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->removeTable();
			</pre>
			<h3>
				<a id="save" href="#___top">save</a>
			</h3>
			<p>Saves the object in provider table</p>
			<pre>
			$testObj=new TestSimple();
			
			$testObj->name="test";
			
			#Add Object to Arity persistent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->save();
			</pre>
			<h3>
				<a id="delete" href="#___top">delete</a>
			</h3>
			<p>Delete object instance in provider table with respect to the
				ARITY IDENTITY field if set.</p>
			<pre>
			$testObj=new TestSimple();
			
			$testObj->id=1;
			
			#Add Object to Arity persistent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->delete();
			</pre>

			<h3>
				<a id="fetch" href="#___top">fetch</a>
			</h3>
			<p>Remove the table in the database corresponding to the test
				object.</p>
			<pre>
			public function fetch($depth=null)
			</pre>
			<p>Define the depth of reference child objects. e.g 1 means first
				level childs.</p>
			<pre>
			$testObj=new TestSimple();
		
			#Add Object to Arity peristent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->fetch();
			</pre>
			<h3>
				<a id="filter" href="#___top">filter</a>
			</h3>
			<p>Remove the table in the database corresponding to the test
				object.</p>
			<pre>
			function filter($filter,$type='AND',$compare=' = ')
			</pre>
			<p>
				$filter Key pair values of argument 'name'=>'Test' <br /> $type
				Operator AND=/OR among the key pair value arguments <br /> $compare
				The compare operator =,<,>,>=,<=,!= <br />
			</p>
			<pre>
			$testObj=new TestSimple();
		
			#Add Object to Arity peristent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->fetch()->filter(array("name"=>"test"));
			
			$dbObj->fetch()->filter(array("name"=>"test","age"=>"10"),'OR',"=");
			
			</pre>
			<h3>
				<a id="object" href="#___top">object</a>
			</h3>
			<p>Returns instantiated populated object.Object with it
				relationships are populated at this point into the instantiated
				object.</p>

			<pre>
			$testObj=new TestSimple();
		
			#Add Object to Arity peristent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->fetch()->filter(array("name"=>"test"))->object();
			</pre>
			<h3>
				<a id="objectCount" href="#___top">objectCount</a>
			</h3>
			<p>Returns instantiated populated object. Count of the instances
				that are loaded. This count is for the main object. Child object
				combination are not counted.</p>
			<pre>
			$testObj=new TestSimple();
		
			#Add Object to Arity peristent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->fetch()->filter(array("name"=>"test"))->object()->objectCount();
			</pre>

			<h3>
				<a id="native" href="#___top">native</a>
			</h3>
			<p>Return instances for native query.Result can be combinations.</p>
			<pre>
			$testObj=new TestSimple();
		
			#Add Object to Arity peristent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->fetch()->filter(array("name"=>"test"))->native();
			</pre>

			<h3>
				<a id="nativeCount" href="#___top">nativeCount</a>
			</h3>
			<p>Count of the instances for a native query.Result can be
				combinations.</p>
			<pre>
			$testObj=new TestSimple();
		
			#Add Object to Arity peristent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->fetch()->filter(array("name"=>"test"))->nativeCount();
			</pre>


			<h3>
				<a id="groupBy" href="#___top">groupBy</a>
			</h3>
			<p>Only abvailable for native queries.</p>
			<pre>
			$testObj=new TestSimple();
		
			#Add Object to Arity peristent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->fetch()->filter(array("name"=>"test"))->nativeCount();
			</pre>
			<h3>
				<a id="having" href="#___top">having</a>
			</h3>
			<p>Only abvailable for native queries.</p>
			<pre>
			$testObj=new TestSimple();
		
			#Add Object to Arity peristent manager
			
			$dbObj=Arity::entity($testObj);
			
			$dbObj->fetch()->filter(array("name"=>"test"))->nativeCount();
			</pre>



			<h2>
				<a id="Field" href="#___top">Field</a>
			</h2>
			<p>Abstract class for creating object fields.Its inherited by
				Type and Reference.</p>
			<h2>
				<a id="Reference" href="#___top">Reference</a>
			</h2>
			<p>Extends the Field abstract class. Create a relationship
				between objects.These relationships are used for mapping the object
				to provider table relationships.</p>
			<h2>
				<a id="Type" href="#___top">Type</a>
			</h2>
			<p>Extends the Field abstract class. Create a type that can be
				mapped to the provider table type.</p>

			<h1 id="Tutorials">Tutorials</h1>
			<p>This tutorial is based on 5 cases. Each case explains and
				solves a particular problem of data persistent.</p>



		</div>
	</div>
</body>
</html>
